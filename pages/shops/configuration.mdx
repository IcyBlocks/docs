# Configuration

import { FileTree } from 'nextra/components'
import { Steps } from 'nextra/components'
import { Callout } from 'nextra/components'

## Adding Shops

<Steps>
### Resource Configuration

You will need to configure the resource to include your new location.

<FileTree>
  <FileTree.Folder name="cubic_shops" defaultOpen>
    <FileTree.Folder name="cfg" defaultOpen>
      <FileTree.File name="config.lua" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

> Example:

```lua filename="config.lua" copy {1}
        [13] = { -- Custom Location Id [change according to your location number]
            coords = vector4(0.0, 0.0, 0.0, 0.0), -- The location where the shop's ped would spawn
            mngCoords = vector3(0.0, 0.0, 0.0), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'exampleItem1', price = 1 },
                { name = 'exampleItem2', price = 100 },
                { name = 'exampleItem3', price = 1000 },
                -- Add more here
            },
            price = 150000, -- The price a player would pay to own this store
            sellPrice = 135000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = false, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = false, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = 'Example Shop', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },  
```

```lua filename="config.lua" copy {14}
    vaults = {                                                                                          -- Vault locations [vec3], same order as Config.Stores.peds
        [1] = {coords = vector3(381.11, 332.48, 103.57)},
        [2] = {coords = vector3(31.28, -1339.36, 29.5)},
        [3] = {coords = vector3(-3048.58, 588.49, 7.91)},
        [4] = {coords = vector3(-3249.62, 1007.34, 12.83)},
        [5] = {coords = vector3(1737.42, 6419.39, 35.04)},
        [6] = {coords = vector3(1707.9, 4920.38, 42.06)},
        [7] = {coords = vector3(1961.77, 3750.26, 32.34)},
        [8] = {coords = vector3(543.77, 2662.59, 42.16)},
        [9] = {coords = vector3(2674.25, 3289.21, 55.24)},
        [10] = {coords = vector3(2549.42, 387.86, 108.62)},
        [11] = {coords = vector3(819.18, -774.59, 26.18)},  -- This is for Gabz 24/7 MLO at La Messa, remove this line if you don't use the MLO
        -- Store 12 [Legion Square Ammunation] doesn't need a vault to be robbed, so the line doesn't exist
        [13] = {coords = vector3(0.0, 0.0, 0.0)}, -- Your Custom Location
    } 
```

</Steps>

## Using ESX 

<Steps>

### Configuration

If you want to use this resource with ESX, you will need to change a few values in the config.lua file.

<FileTree>
  <FileTree.Folder name="cubic_shops" defaultOpen>
    <FileTree.Folder name="config" defaultOpen>
      <FileTree.File name="config.lua" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

Set Config.useQBCore to false:
```lua filename="config.lua" copy
Config.useQBCore = false
```

### Banking Configuration

> Thanks to @theflybandit

<FileTree>
  <FileTree.Folder name="cubic_shops" defaultOpen>
    <FileTree.Folder name="config" defaultOpen>
      <FileTree.File name="sv_config.lua" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

```lua filename="sv_config.lua" copy
-- Amount: amount to give to a player, reason: reason to give the player, src: the player
Config.bankExportAddMoney = function(amount, reason, src) -- Custom bank export used to add money, ignore if using QBCore's banking system
    local xPlayer = ESX.GetPlayerFromId(src)
    xPlayer.addAccountMoney('bank', amount)
end

-- Amount: amount to remove from a player, reason: reason to remove the player's money, src: the player
Config.bankExportRemoveMoney = function(amount, reason, src) -- Custom bank export used to remove money, ignore if using QBCore's banking system
    local ESX = exports["es_extended"]:getSharedObject()

    local xPlayer = ESX.GetPlayerFromId(src)

    local money = xPlayer.getAccount('bank').money

    local success = false

    if money >= amount then
        xPlayer.removeAccountMoney('bank', amount)
        success = true
    else
        success = false
    end

    return success
end
```

</Steps>

## Adding Locales

<Steps>

### Setup

Go to the 'locales' folder and create a new file with the language's code <br/>
> Example:

<FileTree>
  <FileTree.Folder name="cubic_shops" defaultOpen>
    <FileTree.Folder name="locales" defaultOpen>
      <FileTree.File name="fr.json" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

Go to the file you just created and copy & paste this:

```json filename="your_language.json" copy showLineNumbers
{
    "robbery_started": "Robbery Started",
    "robbery_failed": "Robbery Failed",
    "robbery_successful": "Robbery Successful",
    "robbery_progress_circle": "Intimidating..",
    "open_shop": "Open Shop",
    "no_stock": "Current Stock Is: ",
    "open_management": "Manage Shop",
    "cancel_sell_store": "Canceled",
    "sold_store": "Successfuly Sold Shop",
    "set_item_price_label": "Set Price",
    "set_item_price_desc": "Set The Item Price",
    "supply": "Supply",
    "supply_desc": "Supply Your Shop With More Items",
    "supplier": "Supplier",
    "supplier_desc": "Purchase Supplies To Add To Your Shop",
    "vault": "Vault",
    "vault_desc": "Where Your Money Is Stored",
    "sell_store": "Sell Shop",
    "sell_store_desc": "Sell Your Shop",
    "confirmation": "Confirmation",
    "confirmation_content": "Are You Sure? This Action Can't Be Undone",
    "store_locked": "Shop Locked",
    "store_locked_desc": "This Shop Is Already Owned",
    "management_menu_title": "Shop Management",
    "store_unowned": "Purchase Shop",
    "store_unowned_desc": "Purchase This Shop For: ",
    "success_purchased_store": "Successfuly Purchased Shop",
    "already_own_maximum_stores": "Maximum Stores To Purchase Is One",
    "not_enough_money": "Insufficient Funds",
    "store_label": "Shop",
    "supplier_label": "Supplier",
    "vault_label": "Vault",
    "no_weapon_license": "You Need A Weapon License",
    "error_occured": "An Error Occured, Please Try Again",
    "error_job_locked": "This Shop Is Job Locked"
}
```

Then change the value on the right side to what you want it to say.

### Configure Ox Lib

Add this to your server.cfg & change 'your_language' to your language's code.

```ini filename="server.cfg" copy
setr ox:locale your_language
```

</Steps>

## Config File
 
<FileTree>
  <FileTree.Folder name="cubic_shops" defaultOpen>
    <FileTree.Folder name="cfg" defaultOpen>
      <FileTree.File name="config.lua" />
      <FileTree.File name="sv_config.lua" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

### Shared

```lua filename="config.lua" copy showLineNumbers
lib.locale()

Config = {}

Config.useQBCore = true                                                                                 -- Set to true if you use QB/QBX Core, false for standalone | Using standalone will require custom banking

Config.banking = 'qb'                                                                                   -- Options: 'qb' for QB/QBX, 'custom' | Which banking system to use [edit in sv_config.lua]
Config.debug = false                                                                                    -- Print extra debug statements & zone debug, useful for resolving errors but will increase resmon
Config.target = 'ox'                                                                                    -- Options: "qb" [qb-target], "ox" [ox_target]
Config.dispatch = "core-dispatch"                                                                       -- Options: "ps-dispatch", "gfx-mdt", "core-dispatch", "custom" [change in client/cl_edit.lua]
Config.notify = 'ox'                                                                                    -- Options: 'ox' [ox_lib], 'qb' [qb-core], 'custom' [edit in client/cl_edit.lua]

Config.Stores = {
    peds = {                                                                                            -- Shop locations, specifically where peds would spawn [preconfigured for Gabz 24/7 MLO's]
        [1] = { -- Vinewood Hills 24/7
            coords = vector4(373.03, 327.34, 103.57, 252.65), -- The location where the shop's ped would spawn
            mngCoords = vector3(379.1, 331.75, 103.63), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },     

        [2] = { -- Strawberry Ave 24/7
            coords = vector4(24.82, -1346.27, 29.5, 268.98), -- The location where the shop's ped would spawn
            mngCoords = vector3(29.56, -1340.55, 29.59), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },      

        [3] = { -- Ineseno Road 24/7
            coords = vector4(-3040.16, 584.51, 7.91, 16.91), -- The location where the shop's ped would spawn
            mngCoords = vector3(-3046.92, 587.17, 7.95), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },      

        [4] = { -- Barbereno Road 24/7
            coords = vector4(-3243.51, 1000.44, 12.83, 352.62), -- The location where the shop's ped would spawn
            mngCoords = vector3(-3248.58, 1005.4, 12.94), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },   

        [5] = { -- Paleto Bay Gas Station On Highway 24/7
            coords = vector4(1728.67, 6416.1, 35.04, 239.77), -- The location where the shop's ped would spawn
            mngCoords = vector3(1735.17, 6419.13, 35.2), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },    

        [6] = { -- Grapeseed 24/7
            coords = vector4(1696.75, 4923.77, 42.06, 328.11), -- The location where the shop's ped would spawn
            mngCoords = vector3(1707.16, 4921.59, 41.9), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },   

        [7] = { -- Sandy Shores 24/7
            coords = vector4(1959.76, 3741.26, 32.34, 301.03), -- The location where the shop's ped would spawn
            mngCoords = vector3(1960.9, 3748.28, 32.45), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },   

        [8] = { -- Harmony 24/7
            coords = vector4(548.71, 2671.34, 42.16, 95.55), -- The location where the shop's ped would spawn
            mngCoords = vector3(545.08, 2663.99, 42.23), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },   
           
        [9] = { -- Grand Senora 24/7
            coords = vector4(2678.15, 3279.8, 55.24, 322.96), -- The location where the shop's ped would spawn
            mngCoords = vector3(2674.53, 3287.0, 55.33), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },    

        [10] = { -- Tataviam Mountains 24/7
            coords = vector4(2557.21, 381.13, 108.62, 353.5), -- The location where the shop's ped would spawn
            mngCoords = vector3(2550.66, 386.15, 108.76), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 5 },
                { name = 'water', price = 3 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },    

        [11] = { -- Gabz 24/7 MLO at La Messa, remove this if not using the MLO
            coords = vector4(812.79, -782.59, 26.17, 262.56), -- The location where the shop's ped would spawn
            mngCoords = vector3(817.34, -775.83, 26.28), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'burger', price = 3 },
                { name = 'water', price = 1 },
                -- Add more here
            },
            price = 50000, -- The price a player would pay to own this store
            sellPrice = 45000, -- The money a player would get after selling a store
            ped = 'mp_m_shopkeep_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = true, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = '24/7 Store', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 59, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 2, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        },  
        
        [12] = { -- Legion Square Ammunation
            coords = vector4(18.43, -1108.05, 29.8, 155.39), -- The location where the shop's ped would spawn
            mngCoords = vector3(16.68, -1105.26, 29.6), -- The location of the shop management, set to nil so a player can't purchase it
            supplier = { -- What the supplier of the store sells, and if the store is unowned it's the default items a player can purchase
                { name = 'weapon_pistol', price = 500, metadata = {requiresWeaponLicense = true} },
                { name = 'ammo-9', price = 1 },
                -- Add more here
            },
            price = 100000, -- The price a player would pay to own this store
            sellPrice = 85000, -- The money a player would get after selling a store
            ped = 's_m_y_ammucity_01', -- The shop's ped, see [https://docs.fivem.net/docs/game-references/ped-models/] for more information
            canBeRobbed = false, -- If the ped can be robbed, not the vault. Remove the vault coords to disable vault robberies
            jobLocked = false, -- If the store is job locked, options: 'job name here' [lock to a certain job], false [anyone can own it] [only avaliable for QBCore]
            jobLockedType = false, -- If the value above is the job type instead of the job name
            blip = {
                enabled = true, -- If the blip is enabled & shown to all players
                jobOnly = true, -- If the blip is only seen by the job set above [still requires qb-core]
                text = 'Ammunation', -- The text displayed on the map
                shortrange = true, -- If the player needs to be close to the blip to show it
                sprite = 110, -- Blip sprite, see [https://docs.fivem.net/docs/game-references/blips/#blips] for more information
                color = 40, -- Blip color, see [https://docs.fivem.net/docs/game-references/blips/#blip-colors] for more information
                scale = 0.8 -- The scale/size of the blip
            }
        }, 
    },
    price = 50000,                                                                                      -- The price a player would pay when purchasing a 24/7 store
    sellPrice = 45000,                                                                                  -- The price that a player will recieve if selling the store
    enableSell = true,                                                                                  -- If players can sell their stores or not
    weaponLicenseItem = 'weaponlicense',                                                                -- The item that the player needs when purchasing an item from a store with requiresWeaponLicense set to true
    onePerPerson = true,
    enableSupplier = true,                                                                              -- If players can purchase items from the supplier
}

Config.blacklist = {                                                                                    -- Items players aren't allowed to sell in their store
    'vehiclekey',
    'money',
    -- Add more here
}

Config.RegisterRobbery = {
    cooldown = 600,                                                                                     -- Cooldown duration in seconds, recommended value: 600 [10 mins]
    pedDistance = 5,                                                                                    -- A player will need to be this close to the store ped to trigger the robbery
    enableMinigame = 'GTA:O',                                                                           -- Options: 'GTA:O' [GTA Online Style], true [Enable looting minigame], false [Instantly give the player money]
    minigame = function(source, ped, coords, targetPed, targetCoords)                                   -- The minigame function, only triggered if the option above is set to true
        TriggerEvent("cubic-247:client:notify", locale("robbery_started"), 'success')
        local randomIndex1 = tostring(math.random(1, 4)) -- Randomize the loot [not a default option in peuren-minigames]
        local randomIndex2 = tostring(math.random(5, 6))
        local randomIndex3 = tostring(math.random(7, 8))
        local randomIndex4 = tostring(0)

        local payment1 = tonumber(Config.RegisterRobbery.payment()) 
        local payment2 = tonumber(Config.RegisterRobbery.payment()) 
        local payment3 = tonumber(Config.RegisterRobbery.payment()) 
        local payment4 = tonumber(Config.RegisterRobbery.payment()) 

        if math.random(1, 100) <= 60 then
            randomIndex4 = 9
        end

        local savedIndex = {}

        exports.peuren_minigames:StartLooting( -- Start the minigame
            {
                [randomIndex1] = {item = "money", amount = payment1},
                [randomIndex2] = {item = "money", amount = payment2},
                [randomIndex3] = {item = "money", amount = payment3},
                [randomIndex4] = {item = "money", amount = payment4}
            },
            1500,
            {x = 3, y = 3},
            function(index)
                local pay

                if tostring(index) == tostring(randomIndex1) then pay = payment1 end
                if tostring(index) == tostring(randomIndex2) then pay = payment2 end
                if tostring(index) == tostring(randomIndex3) then pay = payment3 end
                if tostring(index) == tostring(randomIndex4) then pay = payment4 end

                if savedIndex[index] == true then -- Check if the player already claimed the loot [not a default option in peuren-minigames]
                    print('[Shops] Already claimed loot')
                else
                    savedIndex[index] = true
                    Citizen.Wait(1000)
                    TriggerServerEvent('cubic-247:server:addmoney', targetCoords, coords, pay, 'Shop Robbery', 'cash', source)
                end
            end
        )
        TriggerEvent("cubic-247:client:notify", locale("robbery_successful"), 'success')
        Citizen.Wait(3000)
        TriggerServerEvent("cubic-247:server:reg:animation:cancel", targetPed)
    end,
    payment = function() return math.random(50, 100) end                                                -- The payment a player will recieve [math.random(minimum, maximum) or just a number]
}

Config.Vault = {
    itemName = 'hacking_device',                                                                        -- The name of the hacking item, make sure it matches the one in ox_inventory
    removeItem = true,                                                                                  -- Remove the hacking item once the player uses it to hack the vault? | Options: true, false
    cooldown = 600,                                                                                     -- Cooldown duration in seconds, recommended value: 600 [10 mins]
    dist = 2,                                                                                           -- If a player is outside of this range, they won't be able to hack a vault
    vaults = {                                                                                          -- Vault locations [vec3], same order as Config.Stores.peds
        [1] = {coords = vector3(381.11, 332.48, 103.57)},
        [2] = {coords = vector3(31.28, -1339.36, 29.5)},
        [3] = {coords = vector3(-3048.58, 588.49, 7.91)},
        [4] = {coords = vector3(-3249.62, 1007.34, 12.83)},
        [5] = {coords = vector3(1737.42, 6419.39, 35.04)},
        [6] = {coords = vector3(1707.9, 4920.38, 42.06)},
        [7] = {coords = vector3(1961.77, 3750.26, 32.34)},
        [8] = {coords = vector3(543.77, 2662.59, 42.16)},
        [9] = {coords = vector3(2674.25, 3289.21, 55.24)},
        [10] = {coords = vector3(2549.42, 387.86, 108.62)},
        [11] = {coords = vector3(819.18, -774.59, 26.18)},  -- This is for Gabz 24/7 MLO at La Messa, remove this line if you don't use the MLO
        -- Store 12 [Legion Square Ammunation] doesn't need a vault to be robbed, so the line doesn't exist
    }    
}
```

### Server

```lua filename="sv_config.lua" copy showLineNumbers
-- Amount: amount to give to a player, reason: reason to give the player, src: the player
Config.bankExportAddMoney = function(amount, reason, src) -- Custom bank export used to add money, ignore if using QBCore's banking system
    print(amount, reason, src)
    print('[Shops] Change the bank export in cubic_shops/cfg/sv_config.lua')
end

-- Amount: amount to remove from a player, reason: reason to remove the player's money, src: the player
Config.bankExportRemoveMoney = function(amount, reason, src) -- Custom bank export used to remove money, ignore if using QBCore's banking system
    print('[Shops] Change the bank export in cubic_shops/cfg/sv_config.lua')

    local success
    return success


    --[[
    -- Example
    local QBCore = exports['qb-core']:GetCoreObject()

    local Player = QBCore.Functions.GetPlayer(src)
    print(Player)
    local money = Player.Functions.GetMoney('bank')
    if money >= amount then
        Player.Functions.RemoveMoney('bank', amount, reason)
        success = true
    else
        success = false
    end
    return success
    ]]
end
```